require("../../common/manifest.js");
require("../../common/vendor.js");
global.webpackJsonp([20],{184:function(t,e,n){"use strict";var s=a(n(1)),i=a(n(185));function a(t){return t&&t.__esModule?t:{default:t}}Page((0,s.default)(i.default))},185:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(187),i=n.n(s),a=n(188);var o=function(t){n(186)},c=n(0)(i.a,a.a,o,"data-v-c6e89212",null);e.default=c.exports},186:function(t,e){},187:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var s=o(n(4)),i=o(n(5)),a=n(7);function o(t){return t&&t.__esModule?t:{default:t}}e.default={data:function(){return{phone:"",pphone:"",code:"",isSend:!1,yzm:"发送验证码"}},components:{navBar:s.default,dividLine:i.default},onLoad:function(){this._getUser()},methods:{back:function(){t.navigateBack({delta:1})},_getUser:function(){try{var e=t.getStorageSync("user");this.phone=e.phone;var n=this.phone.substring(0,3),s=this.phone.substring(8,12);this.pphone=n+"*****"+s,console.log("user",this.phone)}catch(t){console.log("ERROR",t.message)}},send:function(){var e=this;this.isSend||(0,a.changePhoneyzm)(this.phone).then(function(n){if(200==n.code){t.showToast({title:"验证码已发送"});var s=null,i=60;e.isSend=!0,s=setInterval(function(){e.yzm=--i+"S",0==i&&(clearInterval(s),e.yzm="发送验证码",e.isSend=!1)},1e3)}})},submit:function(){(0,a.changePhone)(this.phone,this.code).then(function(e){100!=e.code?(t.showToast({title:"验证成功"}),setTimeout(function(){t.navigateTo({url:"/pages/index/new-phone"})},500)):t.showToast({title:e.msg,icon:"none"})})}}}}).call(e,n(2).default)},188:function(t,e,n){"use strict";var s={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:"container"},[n("nav-bar",{attrs:{title:"改绑手机",eventid:"dAr-0",mpcomid:"0Nv-0"},on:{back:t.back}}),n("view",{staticClass:"wrap"},[n("divid-line",{attrs:{height:"5",mpcomid:"JIj-1"}}),n("view",{staticClass:"input-wrap"},[n("view",{staticClass:"origin"},[t._v("原始手机号")]),n("view",{staticClass:"txt-input"},[t._v(t._s(t.pphone))])]),n("view",{staticClass:"yzm-wrap"},[n("view",{staticClass:"yzm-txt"},[t._v("验证码")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],staticClass:"txt-input",attrs:{placeholder:"请输入验证码",eventid:"Lge-1"},domProps:{value:t.code},on:{input:function(e){e.target.composing||(t.code=e.target.value)}}}),n("view",{staticClass:"bt",class:["bt",{disable:t.isSend}],attrs:{eventid:"rhx-2"},on:{click:t.send}},[t._v(t._s(t.yzm))])]),n("view",{staticClass:"bt-wrap",attrs:{eventid:"00f-3"},on:{tap:t.submit}},[t._v("验证后绑定新手机")])],1)],1)},staticRenderFns:[]};e.a=s}},[184]);