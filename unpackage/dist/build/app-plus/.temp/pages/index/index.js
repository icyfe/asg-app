require("../../common/manifest.js");
require("../../common/vendor.js");
global.webpackJsonp([1],[,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";var s=n(i(1)),o=n(i(18));function n(t){return t&&t.__esModule?t:{default:t}}Page((0,s.default)(o.default))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(20),o=i.n(s),n=i(40);var a=function(t){i(19)},c=i(0)(o.a,n.a,a,"data-v-d31acb48",null);e.default=c.exports},function(t,e){},function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var s=l(i(21)),o=l(i(7)),n=l(i(27)),a=l(i(31)),c=l(i(35)),r=i(4);function l(t){return t&&t.__esModule?t:{default:t}}function u(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,i){return function s(o,n){try{var a=e[o](n),c=a.value}catch(t){return void i(t)}if(!a.done)return Promise.resolve(c).then(function(t){s("next",t)},function(t){s("throw",t)});t(c)}("next")})}}e.default={components:{uniLoadMore:o.default,dividLine:n.default,goodList:a.default,goTop:c.default},computed:{up:function(){return 0==this.isup?"#ff0000":"#ccc"},down:function(){return 1==this.isup?"#ff0000":"#ccc"}},data:function(){return{page:1,scrollEv:null,nowScroll:0,isScroll:!1,isAndroid:!1,timer:null,isShow:!1,globScrollTop:0,uni:"",swiper:"",tab:"",active:0,isup:3,count:0,screen:null,isfixed:!1,productList:null,loadingType:0,contentText:{contentdown:"上拉显示更多",contentrefresh:"正在加载...",contentnomore:"没有更多数据了"},hotProductList:[],msg:[],imagelist:[{title:1,src:"https://img.alicdn.com/tps/i4/TB1yNlhhAvoK1RjSZFwSuwiCFXa.jpg_q90_.webp"},{title:2,src:"https://aecpm.alicdn.com/simba/img/TB1JNHwKFXXXXafXVXXSutbFXXX.jpg"},{title:3,src:"https://aecpm.alicdn.com/simba/img/TB1XotJXQfb_uJkSnhJSuvdDVXa.jpg"},{title:3,src:"https://aecpm.alicdn.com/simba/img/TB1XotJXQfb_uJkSnhJSuvdDVXa.jpg"},{title:3,src:"https://aecpm.alicdn.com/simba/img/TB1XotJXQfb_uJkSnhJSuvdDVXa.jpg"}],itemList:["itemadfasdf1","itemasdfasdf2","itemdfasdfasdfsa3"],duration:300,loadingText:{contentrefresh:"正在加载...",contentnomore:"没有更多数据了"},scrollLeft:0,isClickChange:!1,tabIndex:0,tabBars:[{name:"全部",id:"guanzhu"},{name:"男装",id:"tuijian"},{name:"女装",id:"tiyu"},{name:"数码",id:"redian"},{name:"家具",id:"caijing"}]}},onLoad:function(t){this._getData()},methods:{qrcode:function(){console.log("二维码"),t.scanCode({success:function(t){console.log("条码类型："+t.scanType),console.log("条码内容："+t.result)}})},onloadmore:function(){var t=this;0===this.loadingType&&(this.loadingType=1,(0,r.getGoodsList)({page:this.page,type:0==this.tabIndex?"":this.tabBars[this.tabIndex].name,screen:"",jg:""}).then(function(e){if(200==e.code){if(0==e.result.length)return void(t.loadingType=3);t.productList=t.productList.concat(e.result),t.page++,t.loadingType=0}else t._showError()}))},_getData:function(){var e=this;t.showLoading({title:"加载中..",mask:!0}),Promise.all([(0,r.getRecommend)(),(0,r.getHotListGood)(),(0,r.getGoodsList)({page:0,type:"",screen:"",jg:""})]).then(function(i){if(console.log("aa",i),t.hideLoading(),i.length){var s=!0,o=!1,n=void 0;try{for(var a,c=i[Symbol.iterator]();!(s=(a=c.next()).done);s=!0){if(200!=a.value.code)return void e._showError()}}catch(t){o=!0,n=t}finally{try{!s&&c.return&&c.return()}finally{if(o)throw n}}e.msg=i[0].result,e.hotProductList=i[1].result,e.productList=i[2].result,console.log(e.hotProductList)}})},godetail:function(e){t.navigateTo({url:"/pages/common/goods-detail?id="+e+"&scrollTop="+this.nowScroll}),this.globScrollTop=this.nowScroll},_showError:function(){t.showToast({title:"出错了...",icon:"none",mask:!0})},_getGoodsList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";t.showLoading({title:"加载中.."}),(0,r.getGoodsList)({page:e,type:i,screen:o,jg:n}).then(function(e){t.hideLoading(),200==e.code?s.productList=e.result:s._showError()})},goTop:function(){this.globScrollTop=0,this.isScroll=!1},_screensticky:function(t){var e=t.target||t.srcElement;this.nowScroll=e.scrollTop,this.isScroll||(this.globScrollTop=1,this.isScroll=!0),this.nowScroll>620?(this.isAndroid&&(this.isfixed=!0),this.isfixed=!0,this.isShow=!0):(this.isfixed=!1,this.isShow=!1)},jump:function(e){var i=(new Map).set("jhs","聚划算").set("by","9.9包邮").set("tqg","淘抢购").set("tj","每日精选").set("tmjx","天猫精选");t.navigateTo({url:"/pages/common/good-item?type="+e+"&title="+i.get(e)})},screentap:function(t){if(3==t)return this.active=t,this.isup=this.count%2==0?this.isup=0:this.isup=1,this.count++,console.log("this.isip",this.isup),void this._getGoodsList(0,"",t,this.isup);this._getGoodsList(0,"",t),this.active=t,this.isup=3},changeswiper:function(t){t.stopPropagation(),t.preventDefault()},changeTab:function(e){var i=this;return u(s.default.mark(function o(){var n,a,c,r,l,u,d,p,v,g;return s.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(n=e.target.current,a=0==n?"":i.tabBars[n].name,i._getGoodsList("",a),!i.isClickChange){s.next=7;break}return i.tabIndex=n,i.isClickChange=!1,s.abrupt("return");case 7:return s.next=9,i.getElSize("tab-bar");case 9:c=s.sent,r=c.scrollLeft,l=0,u=0;case 13:if(!(u<n)){s.next=21;break}return s.next=16,i.getElSize(i.tabBars[u].id);case 16:d=s.sent,l+=d.width;case 18:u++,s.next=13;break;case 21:return p=t.getSystemInfoSync().windowWidth,s.next=24,i.getElSize(i.tabBars[n].id);case 24:v=s.sent,g=v.width,l+g-r>p&&(i.scrollLeft=l+g-p),l<r&&(i.scrollLeft=l),i.isClickChange=!1,i.tabIndex=n;case 30:case"end":return s.stop()}},o,i)}))()},getElSize:function(e){return new Promise(function(i,s){t.createSelectorQuery().select("#"+e).fields({size:!0,scrollOffset:!0},function(t){i(t)}).exec()})},tapTab:function(t){var e=this;return u(s.default.mark(function i(){var o,n;return s.default.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(e.tabIndex!==t.target.dataset.current){i.next=4;break}return i.abrupt("return",!1);case 4:return i.next=6,e.getElSize("tab-bar");case 6:o=i.sent,n=o.scrollLeft,e.scrollLeft=n,e.isClickChange=!0,e.tabIndex=t.target.dataset.current;case 11:case"end":return i.stop()}},i,e)}))()}}}}).call(e,i(3).default)},,,,,,,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(29),o=i.n(s),n=i(30);var a=function(t){i(28)},c=i(0)(o.a,n.a,a,null,null);e.default=c.exports},function(t,e){},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{height:String},computed:{heightSize:function(){return this.height+"px"}}}},function(t,e,i){"use strict";var s={render:function(){var t=this.$createElement;return(this._self._c||t)("view",{staticClass:"line",style:{background:"#eee",width:"100%",height:this.heightSize}})},staticRenderFns:[]};e.a=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(33),o=i.n(s),n=i(34);var a=function(t){i(32)},c=i(0)(o.a,n.a,a,"data-v-0bcbcc93",null);e.default=c.exports},function(t,e){},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{goodyj:[String,Number],goodimg:String,goodtitle:String,goodprice:[String,Number],goodorprice:[String,Number],goodbuynum:[String,Number],goodvalue:[String,Number],goodid:[String,Number]},computed:{fontSize:function(){return this.size+"px"}},methods:{onTap:function(){this.$emit("onTap")}}}},function(t,e,i){"use strict";var s={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:"goods-wrap",attrs:{eventid:"kvv-0"},on:{click:t.onTap}},[i("view",{staticClass:"goods-img"},[i("image",{staticClass:"img",attrs:{mode:"aspectFit","lazy-load":"",src:t.goodimg}})]),i("view",{staticClass:"desc"},[i("view",{staticClass:"shop-title"},[i("image",{staticClass:"logo",attrs:{mode:"aspectFit",src:"../../static/tm.png"}}),i("view",{staticClass:"txt"},[t._v(t._s(t.goodtitle))])]),i("view",{staticClass:"shop-desc"},[i("view",{staticClass:"price-wrap"},[i("view",{staticClass:"price"},[i("view",{staticClass:"original"},[t._v("原价￥"+t._s(t.goodorprice))]),i("view",{staticClass:"present"},[t._v("￥"+t._s(t.goodprice))])]),i("view",{staticClass:"yj"},[t._v("佣金￥"+t._s(t.goodyj))])]),i("view",{staticClass:"coupon-wrap"},[i("view",{staticClass:"num"},[t._v(t._s(t.goodbuynum)+"人已购")]),i("view",{staticClass:"value"},[t._v(t._s(t.goodvalue)+"元券")])])])])])},staticRenderFns:[]};e.a=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(37),o=i.n(s),n=i(38);var a=function(t){i(36)},c=i(0)(o.a,n.a,a,"data-v-fc63994a",null);e.default=c.exports},function(t,e){},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{},data:function(){return{}},methods:{goTop:function(){this.$emit("goTop")}}}},function(t,e,i){"use strict";var s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:"gotop",attrs:{eventid:"RBP-0"},on:{click:this.goTop}},[e("uni-icon",{attrs:{type:"gotop",size:"30",color:"#FF4040",mpcomid:"8e1-0"}})],1)},staticRenderFns:[]};e.a=s},,function(t,e,i){"use strict";var s={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.productList?i("view",{staticClass:"index-content"},[i("view",{staticClass:"search-container"},[i("view",{staticClass:"qrcode",attrs:{eventid:"foB-0"},on:{click:t.qrcode}},[i("uni-icon",{attrs:{type:"qrcode",size:"16",color:"#bababa",mpcomid:"yHZ-0"}})],1),i("view",{staticClass:"search"},[i("uni-icon",{attrs:{type:"search",size:"15",color:"#bababa",mpcomid:"sJ0-1"}}),t._v("\n\t\t\t立即查找独家优惠券\n\t\t")],1),i("view",{staticClass:"msg"},[i("uni-icon",{attrs:{type:"message",size:"16",color:"#bababa",mpcomid:"XFF-2"}})],1)]),i("view",{staticClass:"uni-tab-bar"},[i("scroll-view",{class:[t.uni-t.swiper-t.tab,{_isfixed:t.isfixed}],attrs:{id:"tab-bar","scroll-x":"","scroll-left":t.scrollLeft}},t._l(t.tabBars,function(e,s){return i("view",{key:e.id,class:["swiper-tab-list",t.tabIndex==s?"active":""],attrs:{id:e.id,"data-current":s,eventid:"6DO-1-"+s},on:{tap:t.tapTab}},[t._v(t._s(e.name))])})),i("swiper",{staticClass:"index-swiper",attrs:{current:t.tabIndex,duration:t.duration,eventid:"XIR-20"},on:{change:t.changeTab}},t._l(t.itemList,function(e,s){return i("swiper-item",{key:e,attrs:{mpcomid:"kxP-19-"+s}},[i("scroll-view",{staticClass:"list",attrs:{"scroll-y":"","scroll-top":t.globScrollTop,eventid:"sjj-19-"+s},on:{scroll:t._screensticky,scrolltolower:t.onloadmore}},[i("swiper",{staticClass:"swiper-box",attrs:{circular:"",autoplay:"","indicator-active-color":"#fff","indicator-dots":"",interval:"5000",duration:t.duration,eventid:"pCU-2-"+s},on:{change:t.changeswiper}},t._l(t.imagelist,function(t,e){return i("swiper-item",{key:e,staticClass:"item",attrs:{mpcomid:"cHR-3-"+s+"-"+e}},[i("image",{staticClass:"swiper-img",attrs:{src:t.src}})])})),i("view",{directives:[{name:"show",rawName:"v-show",value:0==t.tabIndex,expression:"tabIndex == 0"}],staticClass:"classification-container"},[i("view",{staticClass:"item"},[i("view",{attrs:{eventid:"82w-3-"+s},on:{click:function(e){t.jump("jhs")}}},[i("uni-icon",{attrs:{type:"jhs",size:"35",color:"#f7002f",mpcomid:"D5d-4-"+s}}),i("text",{staticClass:"txt"},[t._v("聚划算")])],1),i("view",{attrs:{eventid:"lML-4-"+s},on:{click:function(e){t.jump("by")}}},[i("uni-icon",{attrs:{type:"by",size:"35",color:"#f83061",mpcomid:"NCQ-5-"+s}}),i("text",[t._v("9.9包邮")])],1),i("view",{attrs:{eventid:"rQx-5-"+s},on:{click:function(e){t.jump("tmjx")}}},[i("uni-icon",{attrs:{type:"tianmao",size:"35",color:"#ff0000",mpcomid:"7Ov-6-"+s}}),i("text",[t._v("天猫精选")])],1),i("view",{attrs:{eventid:"qYc-6-"+s},on:{click:function(e){t.jump("tqg")}}},[i("uni-icon",{attrs:{type:"tqg",size:"35",color:"#f98901",mpcomid:"pJ2-7-"+s}}),i("text",[t._v("淘枪购")])],1),i("view",{attrs:{eventid:"E1Y-7-"+s},on:{click:function(e){t.jump("tj")}}},[i("uni-icon",{attrs:{type:"jian",size:"35",color:"#ffdd50",mpcomid:"XI4-8-"+s}}),i("text",[t._v("每日推荐")])],1)])]),i("view",{directives:[{name:"show",rawName:"v-show",value:0==t.tabIndex,expression:"tabIndex == 0"}],staticClass:"uni-swiper-msg"},[i("view",{staticClass:"uni-swiper-msg-icon"},[i("image",{attrs:{src:"../../static/logo.png",mode:"widthFix"}})]),i("swiper",{attrs:{vertical:"true",autoplay:"true",circular:"true",interval:"3000"}},t._l(t.msg,function(e,o){return t.msg.length>1?i("swiper-item",{key:o,attrs:{mpcomid:"bKc-9-"+s+"-"+o}},[i("view",{attrs:{eventid:"oZf-8-"+s+"-"+o},on:{click:function(i){t.godetail(e.id)}}},[t._v(t._s(e.title))])]):t._e()}))],1),i("divid-line",{attrs:{height:"5",mpcomid:"JDZ-10-"+s}}),i("view",{directives:[{name:"show",rawName:"v-show",value:0==t.tabIndex,expression:"tabIndex == 0"}],staticClass:"hot-txt"},[t._v("今日"),i("text",{staticClass:"hot"},[t._v("热销")]),t._v("榜单")]),i("scroll-view",{directives:[{name:"show",rawName:"v-show",value:0==t.tabIndex,expression:"tabIndex == 0"}],staticClass:"hot-scroll-wrap border-1px",staticStyle:{width:"100%"},attrs:{"scroll-x":""}},[i("view",{staticClass:"wrap"},t._l(t.hotProductList,function(e,o){return i("view",{key:o,staticClass:"uni-product",attrs:{eventid:"eJ3-9-"+s+"-"+o},on:{click:function(i){t.godetail(e.id)}}},[i("view",{staticClass:"image-view"},[i("image",{staticClass:"uni-product-image",attrs:{src:e.img}})]),i("view",{staticClass:"uni-product-title"},[t._v(t._s(e.title))]),i("view",{staticClass:"uni-product-price"},[i("text",{staticClass:"uni-product-price-favour"},[t._v("￥"+t._s(e.originp))]),i("text",{staticClass:"uni-product-price-original"},[t._v("￥"+t._s(e.price))]),i("text",{staticClass:"uni-product-tip"},[t._v(t._s(e.type))])])])}))]),i("divid-line",{attrs:{height:"10",mpcomid:"c46-11-"+s}}),i("view",{staticClass:"recommend"},[t._v("—— 为你推荐 ——")]),i("divid-line",{attrs:{height:"2",mpcomid:"UY6-12-"+s}}),t.isfixed?i("view",{staticClass:"screen-wrap _fiexd"},[i("view",{class:{on:0==t.active},attrs:{eventid:"NPo-10-"+s},on:{click:function(e){t.screentap("0")}}},[t._v("精选")]),i("view",{class:{on:1==t.active},attrs:{eventid:"iNQ-11-"+s},on:{click:function(e){t.screentap("1")}}},[t._v("销量")]),i("view",{class:{on:2==t.active},attrs:{eventid:"9uV-12-"+s},on:{click:function(e){t.screentap("2")}}},[t._v("最新")]),i("view",{staticClass:"jg-wrap",attrs:{eventid:"5TH-13-"+s},on:{click:function(e){t.screentap("3")}}},[i("text",{class:{on:3==t.active}},[t._v("价格")]),i("view",{staticClass:"jgicon"},[i("uni-icon",{attrs:{type:"uparrow",size:"12",color:t.up,mpcomid:"LYT-13-"+s}}),i("uni-icon",{attrs:{type:"downarrow",size:"12",color:t.down,mpcomid:"dnZ-14-"+s}})],1)])]):t._e(),i("view",{class:["screen-wrap",{_sticky:!t.isAndroid}]},[i("view",{class:{on:0==t.active},attrs:{eventid:"qgT-14-"+s},on:{click:function(e){t.screentap("0")}}},[t._v("精选")]),i("view",{class:{on:1==t.active},attrs:{eventid:"SqF-15-"+s},on:{click:function(e){t.screentap("1")}}},[t._v("销量")]),i("view",{class:{on:2==t.active},attrs:{eventid:"IBc-16-"+s},on:{click:function(e){t.screentap("2")}}},[t._v("最新")]),i("view",{staticClass:"jg-wrap",attrs:{eventid:"f4j-17-"+s},on:{click:function(e){t.screentap("3")}}},[i("text",{class:{on:3==t.active}},[t._v("价格")]),i("view",{staticClass:"jgicon"},[i("uni-icon",{attrs:{type:"uparrow",size:"12",color:t.up,mpcomid:"Loo-15-"+s}}),i("uni-icon",{attrs:{type:"downarrow",size:"12",color:t.down,mpcomid:"pPX-16-"+s}})],1)])]),i("view",{staticClass:"goods-container"},[t._l(t.productList,function(e,o){return i("block",{key:o},[i("good-list",{attrs:{goodimg:e.img,goodtitle:e.title,goodprice:e.price,goodorprice:e.reprice,goodbuynum:e.readyby,goodvalue:e.value,goodyj:e.yj,goodid:e.id,eventid:"Nj3-18-"+s+"-"+o,mpcomid:"Oes-17-"+s+"-"+o},on:{onTap:function(i){t.godetail(e.id)}}})],1)}),i("uni-load-more",{attrs:{loadingType:t.loadingType,contentText:t.contentText,mpcomid:"8ng-18-"+s}})],2)],1)],1)}))],1),t.isShow?i("go-top",{attrs:{eventid:"uhb-21",mpcomid:"hIT-20"},on:{goTop:t.goTop}}):t._e()],1):t._e()},staticRenderFns:[]};e.a=s}],[17]);