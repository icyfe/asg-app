(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/common/goods-detail"],{"336a":function(t,i,o){"use strict";o.r(i);var s=o("ab3b"),e=o("6dac");for(var a in e)"default"!==a&&function(t){o.d(i,t,function(){return e[t]})}(a);o("be66");var c=o("2877"),n=Object(c["a"])(e["default"],s["a"],s["b"],!1,null,"39873cfc",null);i["default"]=n.exports},"615f":function(t,i,o){"use strict";o("c5d2");var s=a(o("b0ce")),e=a(o("336a"));function a(t){return t&&t.__esModule?t:{default:t}}Page((0,s.default)(e.default))},"6dac":function(t,i,o){"use strict";o.r(i);var s=o("f045"),e=o.n(s);for(var a in s)"default"!==a&&function(t){o.d(i,t,function(){return s[t]})}(a);i["default"]=e.a},ab3b:function(t,i,o){"use strict";var s=function(){var t=this,i=t.$createElement,o=t._self._c||i;return t.good?o("view",[o("view",{staticClass:"mnav-bar"},[o("view",{staticClass:"wrap"},[o("view",{staticClass:"back",attrs:{eventid:"415889b5-0"},on:{click:t.back}},[o("uni-icon",{attrs:{type:"arrow-left",size:"18",color:"#fff",mpcomid:"415889b5-0"}})],1),o("view",{directives:[{name:"show",rawName:"v-show",value:t.navisShow,expression:"navisShow"}],staticClass:"nav-title"},[o("view",{class:["txt",{avtive:t.isactive}],attrs:{eventid:"415889b5-1"},on:{click:t.go}},[t._v("ÂÆùË¥ù")]),o("view",{class:["txt",{avtive:!t.isactive}],attrs:{eventid:"415889b5-2"},on:{click:t.go}},[t._v("ËØ¶ÊÉÖ")])])])]),t.good?o("scroll-view",{staticClass:"detail-container",attrs:{"scroll-top":t.scrolltop,"scroll-y":""}},[t.good?o("swiper",{staticClass:"swiper-box",attrs:{circular:"","indicator-dots":"",autoplay:"","indicator-active-color":"#fff",duration:"500"}},t._l(t.good.small_images,function(t,i){return o("swiper-item",{key:i,staticClass:"item",attrs:{mpcomid:"415889b5-1-"+i}},[o("image",{staticClass:"swiper-img",attrs:{src:t}})])})):t._e(),t.good?o("view",{staticClass:"container"},[o("view",{staticClass:"price-container"},[o("view",{staticClass:"price-wrap"},[o("view",{staticClass:"price-one"},[o("view",{staticClass:"jh"},[t._v("Âà∏Âêé")]),o("view",{staticClass:"price"},[t._v("Ôø•"+t._s(t.good.quanhoujia))])]),o("view",{staticClass:"describe"},[t._v("È¢Ñ‰º∞‰Ω£Èáë "+t._s(t.good.yj)+" ÂÖÉ")])]),o("view",{staticClass:"describe"},[t._v(t._s(t.good.title))]),o("view",{staticClass:"ready-buy"},[o("view",{staticClass:"small-gray"},[t._v("Âéü‰ª∑Ôø•"+t._s(t.good.zk_final_price))]),o("view",{staticClass:"small-gray"},[t._v(t._s(t.good.volume)+"‰∫∫Â∑≤Ë¥≠‰π∞")])])]),o("view",{staticClass:"big-title",attrs:{eventid:"415889b5-3"},on:{click:t.share}},[o("view",{staticClass:"shoptitle"},[o("image",{staticClass:"logo",attrs:{mode:"aspectFit",src:t.good.logo}}),o("view",{staticClass:"title"},[t._v(t._s(t.good.title))])]),o("view",{staticClass:"share"},[o("uni-icon",{attrs:{type:"share",color:"#8a8a8a",mpcomid:"415889b5-2"}}),o("text",{staticClass:"small-gray"},[t._v("ÂàÜ‰∫´")])],1)]),o("view",{staticClass:"quan-container",attrs:{eventid:"415889b5-4"},on:{click:function(i){t.jump(t.good.short_url)}}},[o("image",{staticClass:"quan-bg",attrs:{src:"../../static/bgquan.png"}}),o("view",{staticClass:"wrap"},[o("view",{staticClass:"yhq"},[o("view",{staticClass:"yhq-txt"},[t._v("‰ºòÊÉ†Âà∏")]),o("view",{staticClass:"yhq-price"},[t._v("Ôø•"+t._s(t.good.youhuiquan))])]),o("view",{staticClass:"yhq"},[o("view",{staticClass:"data-txt"},[t._v("‰ΩøÁî®ÊúüÈôê")]),o("view",{staticClass:"data"},[t._v(t._s(t.good.coupon_start_time)+"~"+t._s(t.good.coupon_end_time))])])]),o("view",{staticClass:"take"},[t._v("Á´ãÂç≥È¢ÜÂà∏")])]),o("view",{staticClass:"recommend"},[o("view",{staticClass:"title"},[t._v("Êé®ËçêËØ≠")]),o("view",{staticClass:"small-gray marginL"},[t._v(t._s(t.good.item_description))])]),o("view",{staticClass:"store-introduction"},[o("view",{staticClass:"item"},[o("view",{staticClass:"icons"},[o("uni-icon",{attrs:{size:"16",type:t.good.smlogo,color:"#fe1a34",mpcomid:"415889b5-3"}})],1),o("view",{staticClass:"txt"},[t._v(t._s(t.good.title))])]),o("view",{staticClass:"rank"},[o("view",{staticClass:"dptxt"},[t._v("Â∫óÈì∫ËØÑÂàÜ")]),o("view",{staticClass:"item"},[o("view",{staticClass:"score"},[t._v("ÊèèËø∞4.8")]),o("uni-icon",{staticClass:"micon",attrs:{type:"up-arrow",size:"16",color:"#fe5e78",mpcomid:"415889b5-4"}})],1),o("view",{staticClass:"item"},[o("view",{staticClass:"score"},[t._v("ÊúçÂä°4.8")]),o("uni-icon",{staticClass:"micon",attrs:{type:"up-arrow",size:"16",color:"#fe5e78",mpcomid:"415889b5-5"}})],1),o("view",{staticClass:"item"},[o("view",{staticClass:"score"},[t._v("ÂèëË¥ß4.8")]),o("uni-icon",{staticClass:"micon",attrs:{type:"up-arrow",size:"16",color:"#fe5e78",mpcomid:"415889b5-6"}})],1)])]),o("view",{staticClass:"line-title"},[t._v("‚Äî‚Äî‚Äî‚Äî ÂïÜÂìÅËØ¶ÊÉÖ ‚Äî‚Äî‚Äî‚Äî")]),t.detail?o("view",[o("rich-text",{attrs:{id:"shop-detail-wrap",nodes:t.detail,mpcomid:"415889b5-7"}})],1):t._e(),o("view",{staticClass:"line-title"},[t._v("‚Äî‚Äî‚Äî‚Äî ‰∏∫ÊÇ®Êé®Ëçê ‚Äî‚Äî‚Äî‚Äî")]),o("product-list",{attrs:{productList:t.recommend,mpcomid:"415889b5-8"}}),o("view",{staticClass:"line-title",staticStyle:{"margin-bottom":"120rpx"}},[t._v("‚Äî‚Äî Âà∞Â∫ï‰∫Ü ‚Äî‚Äî")])],1):t._e()],1):t._e(),t.good?o("view",{staticClass:"footer-container"},[o("view",{staticClass:"back",attrs:{eventid:"415889b5-5"},on:{click:t.back}},[t._v("ËøîÂõû")]),o("view",{staticClass:"colle",attrs:{eventid:"415889b5-6"},on:{click:t.collection}},[o("view",{staticClass:"wrap"},[o("uni-icon",{attrs:{type:"shoucang",color:t.collentionColor,mpcomid:"415889b5-9"}}),o("view",{style:{color:t.collentionColor}},[t._v("Êî∂Ëóè")])],1)]),o("view",{staticClass:"share",attrs:{eventid:"415889b5-7"},on:{click:t.share}},[o("view",{staticClass:"wrap"},[o("uni-icon",{attrs:{type:"share",color:"#8a8a8a",mpcomid:"415889b5-10"}}),o("view",[t._v("ÂàÜ‰∫´")])],1)]),o("view",{staticClass:"copy",attrs:{eventid:"415889b5-8"},on:{click:t.copykey}},[t._v("Â§çÂà∂Ê∑òÂè£‰ª§")]),o("view",{staticClass:"join",attrs:{eventid:"415889b5-9"},on:{click:function(i){t.jump(t.good.short_url)}}},[o("view",[o("view",{staticClass:"sm-txt"},[t._v("Á´ãÁúÅÔø•"+t._s(t.good.youhuiquan))]),o("view",[t._v("È¢ÜÂà∏Ë¥≠‰π∞")])])])]):t._e()],1):t._e()},e=[];o.d(i,"a",function(){return s}),o.d(i,"b",function(){return e})},b411:function(t,i,o){},be66:function(t,i,o){"use strict";var s=o("b411"),e=o.n(s);e.a},f045:function(t,i,o){"use strict";(function(t){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=a(o("59ad")),e=o("dee8");function a(t){return t&&t.__esModule?t:{default:t}}var c={computed:{collentionColor:function(){return this.isCollection?"#ff0000":"#fff"}},data:function(){return{nowScrollTop:0,isCollection:!1,table:"",scrolltop:0,navisShow:!0,isactive:!0,reprice:15,good:null,recommend:{},detail:null,phone:this.getUser()}},onLoad:function(t){var i=t.id||"",o=t.table||"";console.log("table",o),console.log("id",i);var s=this._getPid();this._getData(i,o,s)},components:{productList:s.default},methods:{_getPid:function(){try{var i=t.getStorageSync("user");return i.pid}catch(o){}},getUser:function(){try{var i=t.getStorageSync("user");return i.phone}catch(o){}},copykey:function(){t.setClipboardData({data:"„Äê".concat(this.good.title,"„Äë").concat(this.good.short_url," ÁÇπÂáªÈìæÊé•ÔºåÂÜçÈÄâÊã©ÊµèËßàÂô®ÂíëÈñûÔºõÊàñÂæ©¬∑Âà∂ËøôÊÆµÊèèËø∞").concat(this.good.tkl,"ÂêéÂà∞üëâÊ∑ò‚ôÇÂØ≥‚ôÄüëà"),success:function(){t.showToast({title:"Â∑≤Â§çÂà∂"})}})},collection:function(){var i=this;this.phone?this.isCollection?(console.log("ÂèñÊ∂àÊî∂Ëóè",this.isCollection),(0,e.deleteCollection)({phone:this.phone,num_iid:this.good.num_iid}).then(function(o){i.isCollection=0,t.showToast({title:"Â∑≤ÂèñÊ∂à"})})):this.isCollection||(console.log("Â¢ûÂä†Êî∂Ëóè",this.isCollection),(0,e.addCollection)({phone:this.phone,volume:this.good.volume,quanhoujia:this.good.quanhoujia,youhuiquan:this.good.youhuiquan,zk_final_price:this.good.zk_final_price,title:this.good.title,pict_url:this.good.pict_url,num_iid:this.good.num_iid}).then(function(o){console.log("Â∑≤Êî∂Ëóè"),i.isCollection=1,t.showToast({title:"Â∑≤Êî∂Ëóè"})})):t.showToast({title:"Êú™ÁôªÂΩï",icon:"none"})},share:function(){console.log("share"),t.share({provider:"weixin",scene:"WXSenceTimeline",type:0,href:this.good.short_url,title:"ÊàëÊ≠£Âú®È¢ÜÂèñÊ∑òÂÆùË¥≠Áâ©Ë∂ÖÁ∫ß‰ºòÊÉ†Âà∏",summary:"".concat(this.good.item_description),imageUrl:this.good.small_images[0],success:function(t){console.log("success:"+JSON.stringify(t))},fail:function(t){console.log("fail:"+JSON.stringify(t))}})},jump:function(t){console.log(t);var i=t.slice(8);plus.runtime.openURL("taobao://".concat(i))},_getData:function(t,i,o){var s=this,a=Promise.all([(0,e.getGoodDetail)(t,i,o,this.getUser()),(0,e.getGoodsList)({page:0,type:"",screen:"",jg:""}),(0,e.getDetailImg)(t)]);a.then(function(t){t.length>0&&(console.log("ÂïÜÂìÅËØ¶ÊÉÖ",t),s.good=t[0].result,s.good.logo=0==s.good.user_type?"../../static/tb.png":"../../static/tm.png",s.good.smlogo=0==s.good.user_type?"tblogo":"tmlogo",s.good.yj=(s.good.youhuiquan*parseFloat(s.good.commission_rate/100)).toFixed(2),s.good.coupon_start_time=s.good.coupon_start_time.slice(0,10),s.good.coupon_end_time=s.good.coupon_end_time.slice(0,10),s.recommend=t[1].result,s.isCollection=s.good.isCollection,s.detail=s._getDetailImg(t[2].wdescContent.pages))})},_getDetailImg:function(t){for(var i="",o=/<[^>]*>|<\/[^>]*>/gm,s=t.length,e=0;e<s;e++)-1!=t[e].indexOf("<txt>")?i+="":i+="<img src='https://"+t[e].replace(o,"")+"' style='width:100%;max-width:100%' />";return i},_getGoodDetail:function(i,o){var s=this,a=(0,e.getGoodDetail)(i,o);t.showLoading({title:"Âä†ËΩΩ‰∏≠...",mask:!0}),a.then(function(i){t.hideLoading(),200==i.code?(s.good=i.result,console.log("sp",s.good)):t.showToast({title:"Êü•Êó†Ê≠§ÂïÜÂìÅ",icon:"none"})})},_getRecommend:function(){var t=this,i=(0,e.getGoodsList)({page:0,type:"",screen:"",jg:""});i.then(function(i){200==i.code&&(t.recommend=i.result)})},back:function(){t.navigateBack({delta:1})},_onscroll:function(t){var i=t.target||t.srcElement;this.nowScrollTop=i.scrollTop},go:function(t){t||window.event;var i=t.target||t.srcElement;i.offsetLeft<190&&i.offsetLeft>150?(this.scrolltop=this.nowScrollTop,this.$nextTick(function(){this.scrolltop=0,this.isactive=!0})):i.offsetLeft<240&&i.offsetLeft>190&&(console.log("2",this.scrolltop),this.scrolltop=this.nowScrollTop,this.$nextTick(function(){this.scrolltop=555,this.isactive=!1}))}}};i.default=c}).call(this,o("649d")["default"])}},[["615f","common/runtime","common/vendor"]]]);