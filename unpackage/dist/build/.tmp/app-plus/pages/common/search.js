(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/common/search"],{"0ae3":function(t,e,a){"use strict";a("c5d2");var n=s(a("b0ce")),i=s(a("63a8"));function s(t){return t&&t.__esModule?t:{default:t}}Page((0,n.default)(i.default))},"2c98":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:"content"},[a("nav-bar",{attrs:{title:"搜索",color:"#ffffff",background:"#ff0000",mpcomid:"61614316-0"}}),a("view",{staticClass:"search-box"},[a("view",{staticClass:"wrap"},[a("view",{staticClass:"placeholder"},[a("uni-icon",{attrs:{type:"search",color:"#b5b5b5",size:"18",mpcomid:"61614316-1"}}),a("input",{attrs:{placeholder:"搜索商品关键字",value:t.value,eventid:"61614316-0"},on:{confirm:t.submit,input:t._getinput}})],1),t.isShow?a("uni-icon",{attrs:{type:"clear",color:"#b5b5b5",size:"18",eventid:"61614316-1",mpcomid:"61614316-2"},on:{click:t.clear}}):t._e()],1)]),a("view",{staticClass:"container"},[a("view",{staticClass:"search-title"},[t._v("大家都在搜")]),a("view",{staticClass:"all-search-wrap"},t._l(t.hottags,function(e,n){return a("tag-item",{key:n,attrs:{tag:e,color:"#ff0000",eventid:"61614316-2-"+n,mpcomid:"61614316-3-"+n},on:{onchange:t.onTap}})})),a("view",{staticClass:"history"},[a("view",{staticClass:"history-title"},[a("view",{staticClass:"search-title"},[t._v("搜索历史")]),a("uni-icon",{attrs:{type:"delete",size:"14",color:"#ccc",eventid:"61614316-3",mpcomid:"61614316-4"},on:{click:t.clearsearch}})],1),a("view",{staticClass:"all-search-wrap"},t._l(t.tags,function(e,n){return a("tag-item",{key:n,attrs:{tag:e,eventid:"61614316-4-"+n,mpcomid:"61614316-5-"+n},on:{onchange:t.onTap}})}))])])],1)},i=[];a.d(e,"a",function(){return n}),a.d(e,"b",function(){return i})},"3ffd":function(t,e,a){"use strict";var n=a("5982"),i=a.n(n);i.a},"43f2":function(t,e,a){"use strict";var n=a("9198"),i=a.n(n);i.a},5982:function(t,e,a){},"5de0":function(t,e,a){"use strict";a.r(e);var n=a("f061"),i=a.n(n);for(var s in n)"default"!==s&&function(t){a.d(e,t,function(){return n[t]})}(s);e["default"]=i.a},"63a8":function(t,e,a){"use strict";a.r(e);var n=a("2c98"),i=a("5de0");for(var s in i)"default"!==s&&function(t){a.d(e,t,function(){return i[t]})}(s);a("43f2");var o=a("2877"),c=Object(o["a"])(i["default"],n["a"],n["b"],!1,null,"fa45d5b4",null);e["default"]=c.exports},7686:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticStyle:{"margin-top":"10px"},attrs:{eventid:"65f7d16d-0"},on:{tap:function(e){t.onTap(t.tag)}}},[a("text",{staticClass:"search-tag",style:{color:t.color}},[t._v(t._s(t.tag))])])},i=[];a.d(e,"a",function(){return n}),a.d(e,"b",function(){return i})},9198:function(t,e,a){},a5f6:function(t,e,a){"use strict";a.r(e);var n=a("d964"),i=a.n(n);for(var s in n)"default"!==s&&function(t){a.d(e,t,function(){return n[t]})}(s);e["default"]=i.a},c467:function(t,e,a){"use strict";a.r(e);var n=a("7686"),i=a("a5f6");for(var s in i)"default"!==s&&function(t){a.d(e,t,function(){return i[t]})}(s);a("3ffd");var o=a("2877"),c=Object(o["a"])(i["default"],n["a"],n["b"],!1,null,null,null);e["default"]=c.exports},d964:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={props:{tag:{type:String,default:""},color:{type:String,default:"#333"}},data:function(){return{}},methods:{onTap:function(t){console.log("c onTap",t),this.$emit("onchange",t)}}};e.default=n},f061:function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=s(a("6c1c")),i=s(a("c467"));function s(t){return t&&t.__esModule?t:{default:t}}var o={data:function(){return{value:"",isShow:!1,hottags:["母婴","美妆","家电","数码","羊毛衫"],tags:["母婴","美妆","家电","数码","羊毛衫"]}},components:{navBar:n.default,tagItem:i.default},onLoad:function(){this.tags=t.getStorageSync("historysearch")||[]},methods:{clearsearch:function(){var e=this;0!=this.tags.length&&t.showModal({title:"温馨提示",content:"确定要删除历史搜索记录？",success:function(a){a.confirm?(e.tags=[],console.log("清楚后的tags",e.tags),t.setStorageSync("historysearch",e.tags),t.showToast({title:"删除成功",icon:"success"})):a.cancel&&console.log("用户点击取消")}})},submit:function(e){this.value=e.detail.value.trim(),this.uptags(this.value),t.navigateTo({url:"/pages/common/search-detail?keyword=".concat(this.value)})},uptags:function(e){-1==this.tags.indexOf(this.value)&&(10==this.tags.length?(this.tags.pop(),this.tags.unshift(this.value)):this.tags.unshift(this.value),t.setStorageSync("historysearch",this.tags))},_getinput:function(t){this.value=t.detail.value.trim(),this.value?this.isShow=!0:this.isShow=!1},clear:function(){console.log("清楚"),this.value="",this.isShow=!1},onTap:function(t){console.log("aaac",t),this.value=t,this.isShow=!0,this.submit({detail:{value:t}})}}};e.default=o}).call(this,a("649d")["default"])}},[["0ae3","common/runtime","common/vendor"]]]);